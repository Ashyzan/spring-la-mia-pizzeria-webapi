<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <title>Pizzeria Edit</title> 
  </head>
  <body>
    <div>

		<div class="container px-4">
		  <div class="row gx-5">
		    <div class="col mt-4">
		     
				
				<h3 class="mb-4">Modifica la tua pizza</h3>
				
<!--				si puÃ² scrivere anche cosi 			th:action="@{/pizzeria/edit/{id} (id=${pizza.id})}" -->
				<form id="formpizza"
						th:action="@{|/pizzeria/edit/${pizza.id}|}" 
						method="post"
						th:object="${pizza}">
						
						<div class="mb-3">
						  <label for="input" class="form-label">Nome Pizza</label>
						  <input type="text" class="form-control" id="nome" placeholder="nome pizza" 
						  		 th:field="*{nome}">
						</div>
						
						<div class="mb-3">
						<label for="input" class="form-label">Descrizione Pizza</label>
						<input type="text" class="form-control" id="descrizione" placeholder="descrizione pizza" 
							   th:field="*{descrizione}">
						</div>

						<div class="mb-3">
						 <label for="input" class="form-label">Ingredienti Pizza</label>
						 <input type="text" class="form-control" id="ingredienti" placeholder="ingredienti pizza" 
						 		th:field="*{ingredienti}">
						 </div>
						 
						 <div class="mb-3">
						 <label for="input" class="form-label">Prezzo Pizza</label>
						 <input type="number" class="form-control" id="prezzo" placeholder="es. 5,00" min="0" value="0" step=".01" 
						 		th:field="*{prezzo}">
						 </div>
						 
						 	<h6>Ingredienti associati alla pizza:</h6>
<!--						 <div th:each="ingredienti : ${pizza.listaIngredienti}">-->
<!--						 		<ul>-->
<!--						 			<li th:text="${ingredienti.nomeIngrediente}"></li>-->
<!--						 		</ul>-->
<!--						 </div>-->
						 
						 <!--bottone associa ingrediente -->
						 <h5 th:text="|Associa ingredienti|"> </h5>
						 			<div class="mt-6">
						 			<th:block th:each="associaIngrediente : ${ingredientiDB}" >
						 				<input type="checkbox" name="ingrediente" 
						 				th:value="${associaIngrediente.id}" 
						 				th:field="*{listaIngredienti}"/>
						 				<label th:text="${associaIngrediente.nomeIngrediente}"></label>
						 			</th:block>
						 		    </div>
						 
						 <div th:if="${#fields.hasAnyErrors()}">
							<ul>
								<li th:each="err : ${#fields.allErrors()}" 
									th:text="${err}">
									Errore
								</li>
							</ul>
						 </div>
						 
						 <div class="col-auto">
						   <button type="submit" class="btn btn-primary mb-3">Aggiorna</button>
						 </div>


				</form>	  
				<div class="mt-4 mb-4">
												<!--				tornale menu pizze -->
												<a th:href="@{/pizzeria/index}" class="btn btn-success">Torna a tutte le pizze</a>
											  </div>
			</div>
		    </div>	    
		  </div>
		</div>
		
			
		
		
	  
	
	<!-- Bootstrap Bundle with Popper -->
	        <script th:src="@{/webjars/bootstrap/5.1.3/js/bootstrap.bundle.min.js}"></script>
  </body>
</html>